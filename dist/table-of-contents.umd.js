!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";/*! table-of-contents - v0.1.0 */"undefined"!=typeof window&&(window.createTOC=function(t={}){t=Object.assign({},{article:document.body,headers:"h1, h2, h3, h4, h5, h6",title:"Content",position:"beforefirstheading",index:!0},t);const e=document.createElement("template");e.innerHTML='<div id="toc__container">\r\n    <div class="toc__header">\r\n        <h2 class="toc__title">Table of contents</h2>\r\n        <a href="#" class="toc__toggle" aria-expanded="true" aria-controls="toc__list" role="button" style="color: var(--toc__toggle-color, var(--toc__link-color, revert-layer))">\r\n            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m12 10.8l-3.9 3.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.6-4.6q.3-.3.7-.3t.7.3l4.6 4.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"/></svg>\r\n        </a>\r\n    </div>\r\n    <ol class="toc__list"></ol>\r\n</div>';const o=e.content.firstElementChild,n=o.querySelector(".toc__list"),r=o.querySelector(".toc__toggle");r.addEventListener("click",(function(t){t.preventDefault(),n.classList.toggle("toc__list-collapsed"),r.classList.toggle("toc__toggle-collapsed"),r.setAttribute("aria-expanded","true"===r.getAttribute("aria-expanded")?"false":"true")}));const i=o.querySelector(".toc__title");i.textContent=t.title,i.style.setProperty("color","var(--toc__title-color, revert-layer)");const a=function(e,o){let n=document;if(e){const o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`Article not found: ${t.article}`);n=o}return n.querySelectorAll(o)}(t.article,t.headers),c=[];var l,s;a.forEach((t=>{var e,o;const r=parseInt(t.tagName[1],10);if(!t.id){let o=null==(e=t.textContent)?void 0:e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");if(document.getElementById(o)){let e=2;for(;document.getElementById(`${o}-${e}`);)e++;t.id=`${o}-${e}`}else t.id=o}for(;c.length&&c[c.length-1].level>=r;)c.pop();const i=document.createElement("li"),a=document.createElement("a");if(a.style.setProperty("color","var(--toc__link-color, revert-layer)"),a.style.setProperty("font-size","var(--toc__link-size, 90%)"),a.href=`#${t.id}`,a.addEventListener("click",(function(e){e.preventDefault(),t.scrollIntoView({behavior:"smooth"}),a.classList.add("toc__link-visited"),history.pushState(null,"",`#${t.id}`)})),a.textContent=`${null==(o=t.textContent)?void 0:o.trim().replace(/\s+/g," ")}`,i.appendChild(a),c.length){let t=c[c.length-1].element.querySelector("ol");t||(t=document.createElement("ol"),c[c.length-1].element.appendChild(t)),t.appendChild(i)}else n.appendChild(i);c.push({element:i,level:r})})),o.appendChild(n),t.index&&function(t){const e=t.querySelector("ol");e&&function t(e,o){const n=e.children;for(let r=0;r<n.length;r++){const e=n[r],i=`${o}${r+1}`,a=e.querySelector("a");a&&(a.innerHTML=`<span class="toc__list-index">${i}.</span> ${a.textContent}`);const c=e.querySelector("ol");c&&t(c,`${i}.`)}}(e,"")}(o),t.styles&&(l=o,s=t.styles,Object.keys(s).forEach((t=>{const e=`--toc__${o=t,o.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}`;var o;l.style.setProperty(e,s[t])}))),function(e){const n="string"==typeof t.article?document.querySelector(t.article):t.article;if(!n)return;const r=e[0];switch(t.position){case"beforefirstheading":n.insertBefore(o,r);break;case"afterfirstheading":n.insertBefore(o,null==r?void 0:r.nextElementSibling);break;case"afterfirstblock":n.insertBefore(o,n.children[1]);break;case"top":n.prepend(o);break;case"bottom":n.appendChild(o)}}(a),function(){if(!document.getElementById("toc-utility-styles")){const t=document.createElement("style");t.id="toc-utility-styles",t.innerHTML="#toc__container{display:inline-block;position:relative;background:var(--toc__background, rgb(0 0 0 / 3%));padding:var(--toc__padding, 14px 18px 18px);border-radius:var(--toc__border-radius, 5px);border:var(--toc__border, unset);margin:var(--toc__margin, 32px 0);width:var(--toc__width, auto)}#toc__container .toc__header{display:flex;justify-content:space-between;align-items:center}#toc__container .toc__header .toc__toggle{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;border:none;background:none;transition:all .3s ease;margin:0 0 0 10px}#toc__container .toc__header .toc__toggle.toc__toggle-collapsed{transform:rotate(180deg)}#toc__container .toc__title{font-size:var(--toc__title-size, 100%)!important;margin:0!important;padding:0!important;line-height:unset}#toc__container ol.toc__list{margin:6px 0 0!important;padding:0!important;line-height:var(--toc__line-height, revert-layer);transition:var(--toc__transition, all .3s ease)}#toc__container ol{padding-left:var(--toc__list-padding, 14px)!important;margin:0!important;list-style-type:var(--toc__list-style-type, none)!important;list-style-position:var(--toc__list-style-position, inside)!important}#toc__container ol ::marker{color:var(--toc__list-marker-color, var(--toc__link-color, currentColor))}#toc__container a.toc__link-visited{opacity:.7}#toc__container a{cursor:pointer;box-shadow:none!important;border:none!important;text-decoration:none!important}#toc__container .toc__list a:hover{text-decoration:none!important;border-bottom:1px dotted!important}#toc__container .toc__list-index{color:var(--toc__index-color, currentColor)}#toc__container ol.toc__list.toc__list-collapsed{display:none!important}#toc__container ol.toc__list{animation:toc__appear .5s ease-in-out 1;transition-property:display,max-height;transition-duration:.5s;transition-behavior:allow-discrete;max-height:1000px}#toc__container ol.toc__list.toc__list-collapsed{animation:toc__disappear .5s ease-in-out 1;max-height:0}@keyframes toc__appear{0%{opacity:0;max-height:0}to{opacity:1;max-height:1000px}}@keyframes toc__disappear{0%{opacity:1;max-height:1000px;display:block!important}to{opacity:0;max-height:0;display:none!important}}",document.head.appendChild(t)}}()})}));
