!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";/*! table-of-contents - v0.1.0 */"undefined"!=typeof window&&(window.createTOC=function(e={}){e=Object.assign({},{article:document.body,headers:"h1, h2, h3, h4, h5, h6",title:"Content",position:"beforefirstheading",index:!0},e);const t=document.createElement("template");t.innerHTML='<div id="toc__container">\r\n    <h2 class="toc__title"></h2>\r\n    <ol class="toc__list"></ol>\r\n</div>';const n=t.content.firstElementChild,o=n.querySelector(".toc__list"),r=n.querySelector(".toc__title");r.textContent=e.title,r.style.setProperty("color","var(--title-color, revert-layer)");const i=function(t,n){let o=document;if(t){const n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`Article not found: ${e.article}`);o=n}return o.querySelectorAll(n)}(e.article,e.headers),l=[];var a,c;i.forEach((e=>{var t,n;const r=parseInt(e.tagName[1],10);if(!e.id){let n=null==(t=e.textContent)?void 0:t.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");if(document.getElementById(n)){let t=2;for(;document.getElementById(`${n}-${t}`);)t++;e.id=`${n}-${t}`}else e.id=n}for(;l.length&&l[l.length-1].level>=r;)l.pop();const i=document.createElement("li"),a=document.createElement("a");if(a.style.setProperty("color","var(--link-color, revert-layer)"),a.style.setProperty("font-size","var(--link-size, 90%)"),a.href=`#${e.id}`,a.addEventListener("click",(function(t){t.preventDefault(),e.scrollIntoView({behavior:"smooth"}),a.classList.add("toc__link-visited"),history.pushState(null,"",`#${e.id}`)})),a.textContent=`${null==(n=e.textContent)?void 0:n.trim().replace(/\s+/g," ")}`,i.appendChild(a),l.length){let e=l[l.length-1].element.querySelector("ol");e||(e=document.createElement("ol"),l[l.length-1].element.appendChild(e)),e.appendChild(i)}else o.appendChild(i);l.push({element:i,level:r})})),n.appendChild(o),e.index&&function(e){const t=e.querySelector("ol");t&&function e(t,n){const o=t.children;for(let r=0;r<o.length;r++){const t=o[r],i=`${n}${r+1}`,l=t.querySelector("a");l&&(l.innerHTML=`<span class="toc__list-index">${i}.</span> ${l.textContent}`);const a=t.querySelector("ol");a&&e(a,`${i}.`)}}(t,"")}(n),e.styles&&(a=n,c=e.styles,Object.keys(c).forEach((e=>{const t=`--${n=e,n.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`;var n;a.style.setProperty(t,c[e])}))),function(){const t="string"==typeof e.article?document.querySelector(e.article):e.article;if(!t)return;const o=t.querySelector(e.headers);switch(e.position){case"beforefirstheading":t.insertBefore(n,o);break;case"afterfirstheading":t.insertBefore(n,null==o?void 0:o.nextElementSibling);break;case"afterfirstblock":t.insertBefore(n,t.children[1]);break;case"top":t.prepend(n);break;case"bottom":t.appendChild(n)}}(),function(){if(!document.getElementById("toc-utility-styles")){const e=document.createElement("style");e.id="toc-utility-styles",e.innerHTML="#toc__container{display:inline-block;position:relative;background:var(--background, rgb(0 0 0 / 3%));padding:var(--padding, 14px 18px 18px);border-radius:var(--border-radius, 5px);border:var(--border, unset);margin:var(--margin, 32px 0);width:var(--width, auto)}#toc__container .toc__title{font-size:var(--title-size, 1rem)!important;margin:0 0 6px!important;padding:0!important;line-height:unset}#toc__container ol.toc__list{padding:0!important;line-height:var(--line-height, revert-layer)}#toc__container ol{padding-left:var(--list-padding, 14px)!important;margin:0!important;list-style-type:var(--list-style-type, none)!important;list-style-position:var(--list-style-position, inside)!important}#toc__container ol ::marker{color:var(--list-marker-color, var(--link-color, currentColor))}#toc__container a.toc__link-visited{opacity:.7}#toc__container a{cursor:pointer;box-shadow:none!important;border:none!important;text-decoration:none!important}#toc__container .toc__list a:hover{text-decoration:none!important;border-bottom:1px dotted!important}#toc__container .toc__list-index{color:var(--index-color, currentColor)}",document.head.appendChild(e)}}()})}));
